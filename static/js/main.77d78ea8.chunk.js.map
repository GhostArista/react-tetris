{"version":3,"sources":["images/background.jpg","components/StartPage/index.js","hooks/useWindowDimensions.js","components/StatusRow/index.js","components/Stage/index.js","components/Center/index.js","utils/Utils.js","components/Game/index.js","hooks/useInterval.js","components/Tetris/index.js","index.js","App.js"],"names":["module","exports","StyledStartPage","styled","div","StartButton","button","StartPage","startClick","onClick","getWindowDimensions","window","width","innerWidth","height","innerHeight","Container","props","backgroundColor","borderSize","portrait","padding","margin","Title","Value","StatusRow","title","value","Game","background","ContainerNext","pixelSize","Next","theme3d","StyledStage","Center","Row","stage","Pixel","React","memo","fill","color","zIndex","paused","topBloco","Color","lighten","hint","playerColor","alpha","ContainerSwitch","ContainerStatus","Stage","map","player","status","others","useState","setPixelSize","setPortrait","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useWindowDimensions","setTheme3d","nextRender","setNextRender","pixelSizeHeight","pixelSizeWidth","next","bloco","trimRowBloco","sumColumn","forEach","row","y","rowSum","pixel","push","x","trimBloco","newRow","getRenderizacaoBloco","key","onChange","checked","offColor","onColor","uncheckedIcon","checkedIcon","playerFill","pos","playerHint","score","level","lines","PrintPlayerInMap","newMap","arr","slice","length","pixelY","pixelX","initialMap","Array","colors","I","O","T","J","L","S","Z","getRandomBloco","blocos","Math","floor","random","getRandomPlayer","JSON","parse","stringify","STAGE_WIDTH","setMap","setPlayer","down","setDown","pause","setPause","Date","now","tick","setTick","hintPlayer","setHintPlayer","spaceReleased","setSpaceReleased","setlines","setScore","setLevel","dragX","setDragX","dragY","setDragY","nextLevel","nextLevelScore","console","log","loseGame","drop","newPos","getNewPlayerPos","mapWithPlayer","checkMap","newPlayer","validatePosition","rotatePlayer","clonedPlayer","mtrx","_","index","column","reverse","forwardDown","playerCopy","useCallback","rowsClear","clear","mapY","quant","bonusLevel","bonusRows","mapX","calculateHintPlayer","hintBloco","hintPosition","movement","callback","delay","savedCallback","useRef","current","id","setInterval","clearInterval","useInterval","bind","useDrag","mx","my","velocity","abs","filterTaps","lockDirection","onBlur","onFocus","tabIndex","onKeyUp","keyCode","onKeyDown","Tetris","runing","setRuning","stopClick","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.77d78ea8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background.6255a470.jpg\";","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledStartPage = styled.div`\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\toverflow: hidden;\r\n\tbackground-color: #e3b505;\r\n`;\r\n\r\nconst StartButton = styled.button`\r\n\tfont-size: 2.2em;\r\n\tfont-family: \"ZCOOL QingKe HuangYou\", cursive;\r\n\t/* border: 2px solid #222; */\r\n\tborder: none;\r\n\tpadding: 30px 100px;\r\n\tbackground-color: #fff;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tvertical-align: middle;\r\n\ttext-decoration: none;\r\n\ttransition: all 0.5s;\r\n\tcolor: #95190c;\r\n\tborder-right: 1px solid #eee;\r\n\tborder-radius: 2px;\r\n\tborder-bottom: 1px solid #ccc;\r\n\r\n\t:focus {\r\n\t\toutline: 0;\r\n\t}\r\n\r\n\t:hover {\r\n\t\tmargin-left: 5px;\r\n\t\tmargin-top: 5px;\r\n\t\t::after {\r\n\t\t\tright: -5px;\r\n\t\t\ttop: 2px;\r\n\t\t\twidth: 5px;\r\n\t\t}\r\n\t\t::before {\r\n\t\t\tright: -3px;\r\n\t\t\theight: 5px;\r\n\t\t}\r\n\t}\r\n\r\n\t::after {\r\n\t\tcontent: \"\";\r\n\t\theight: 100%;\r\n\t\twidth: 10px;\r\n\t\tbackground-color: #eee;\r\n\t\tright: -10px;\r\n\t\ttop: 5px;\r\n\t\ttransform: skewY(45deg);\r\n\t\tposition: absolute;\r\n\t\ttransition: all 0.5s;\r\n\t}\r\n\r\n\t::before {\r\n\t\tcontent: \"\";\r\n\t\theight: 10px;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #ccc;\r\n\t\tright: -5px;\r\n\t\ttop: 95px;\r\n\t\ttransform: skewX(45deg);\r\n\t\tposition: absolute;\r\n\t\ttransition: all 0.5s;\r\n\t}\r\n`;\r\n\r\nconst StartPage = ({ startClick }) => {\r\n\treturn (\r\n\t\t<StyledStartPage>\r\n\t\t\t<StartButton onClick={startClick}>Start</StartButton>\r\n\t\t</StyledStartPage>\r\n\t);\r\n};\r\nexport default StartPage;\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n\tbackground-color: ${props =>\r\n\t\tprops.backgroundColor ? props.backgroundColor : \"black\"};\r\n\ttransition: background-color 0.5s;\r\n\tborder: ${props => (props.borderSize ? props.borderSize : \"3\")}px solid white;\r\n\t${props => !props.portrait && `width: 100%;`}\r\n\tfont-family: \"ZCOOL QingKe HuangYou\", cursive;\r\n\tpadding: ${props => (props.padding ? props.padding : \"15\")}px\r\n\t\t${props => (props.portrait ? props.padding / 2 : 0)}px; /*15*/\r\n\tmargin-bottom: ${props => (props.margin ? props.margin : \"10\")}px; /*10*/\r\n`;\r\n\r\nconst Title = styled.div`\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tcolor: white;\r\n`;\r\n\r\nconst Value = styled.div`\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tcolor: white;\r\n`;\r\n\r\nconst StatusRow = ({\r\n\ttitle,\r\n\tvalue,\r\n\tpadding,\r\n\tmargin,\r\n\tborderSize,\r\n\tportrait,\r\n\tbackgroundColor\r\n}) => (\r\n\t<Container\r\n\t\tportrait={portrait}\r\n\t\tpadding={padding}\r\n\t\tmargin={margin}\r\n\t\tborderSize={borderSize}\r\n\t\tbackgroundColor={backgroundColor}\r\n\t>\r\n\t\t<Title>{title}</Title>\r\n\t\t<Value>{value}</Value>\r\n\t</Container>\r\n);\r\n\r\nexport default StatusRow;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Switch from \"react-switch\";\r\n\r\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\r\nimport background from \"../../images/background.jpg\";\r\nimport StatusRow from \"../StatusRow\";\r\n\r\nimport Color from \"color\";\r\n\r\nconst Game = styled.div`\r\n\twidth: 100vw;\r\n\theight: ${props => (props.portrait ? \"95\" : \"100\")}vh;\r\n\tdisplay: flex;\r\n\tflex-direction: ${props => (props.portrait ? \"column\" : \"row\")};\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tbackground-image: url(${background});\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n`;\r\n\r\nconst ContainerNext = styled.div`\r\n\t${props =>\r\n\t\t!props.portrait && `height: ${props.pixelSize * 18 + (18 / 3) * 1}px;`}\r\n\t${props => props.portrait && `width: ${props.pixelSize * 10 + (10 / 3) * 1}px;`}\r\n\tmargin-right: ${props => (props.portrait ? 0 : props.pixelSize / 3)}px;\r\n\tmargin-bottom: ${props => (props.portrait ? props.pixelSize / 3 : 0)}px;\r\n\tdisplay: flex;\r\n\tflex-direction: ${props => (props.portrait ? \"row\" : \"column\")};\r\n\tjustify-content: ${props => (props.portrait ? \"space-between\" : \"flex-start\")};\r\n\talign-items: center;\r\n`;\r\n\r\nconst Next = styled.div`\r\n\twidth: ${props => props.pixelSize * 3}px;\r\n\theight: ${props => props.pixelSize * 3}px;\r\n\tbackground-color: ${props => (props.theme3d ? \"#444\" : \"black\")};\r\n\ttransition: background-color 0.5;\r\n\tborder: ${props => props.pixelSize / 10}px solid white;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmargin-bottom: ${props => (props.portrait ? 0 : props.pixelSize / 3)}px;\r\n\tmargin-right: ${props => (!props.portrait ? 0 : props.pixelSize / 3)}px;\r\n`;\r\n\r\nconst StyledStage = styled.div`\r\n\tborder: ${props => props.pixelSize / 10}px solid white;\r\n\tbackground-color: ${props => (props.theme3d ? \"#444\" : \"black\")};\r\n\ttransition: background-color 0.5s;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`;\r\n\r\nconst Center = styled.div`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`;\r\n\r\nconst Row = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: center;\r\n\theight: ${props => (props.stage ? props.pixelSize : props.pixelSize / 1.6)}px;\r\n`;\r\n\r\nconst Pixel = React.memo(styled.div`\r\n\twidth: ${props => (props.stage ? props.pixelSize : props.pixelSize / 1.6)}px;\r\n\theight: ${props => (props.stage ? props.pixelSize : props.pixelSize / 1.6)}px;\r\n\tbackground-color: ${props => (props.fill === 1 ? props.color : \"inherited\")};\r\n\tposition: relative;\r\n\tz-index: ${props => props.zIndex};\r\n\r\n\t${props =>\r\n\t\tprops.paused &&\r\n\t\t`\r\n\t\ttransition: all 1s;\r\n\t`};\r\n\r\n\t${props =>\r\n\t\tprops.fill &&\r\n\t\tprops.theme3d &&\r\n\t\t`;\r\n\t\tbox-shadow: ${props.pixelSize / 4.16}px ${props.pixelSize /\r\n\t\t\t4.16}px ${props.pixelSize / 5.55}px #222${\r\n\t\t\tprops.topBloco\r\n\t\t\t\t? `, 0 ${-props.pixelSize / 4.16}px 0 ${Color(props.color).lighten(0.2)}`\r\n\t\t\t\t: \"\"\r\n\t\t} \r\n\t`};\r\n\r\n\t${props =>\r\n\t\t!props.theme3d &&\r\n\t\t`\r\n\t\tborder-left: 1px solid ${\r\n\t\t\tprops.stage || props.fill || props.hint ? \"#222\" : \"black\"\r\n\t\t};\r\n\t\tborder-top: 1px solid ${\r\n\t\t\tprops.stage || props.fill || props.hint ? \"#222\" : \"black\"\r\n\t\t};\t\r\n\t`};\r\n\r\n\t${props =>\r\n\t\tprops.hint &&\r\n\t\t`\r\n\t\tborder: 1px solid ${Color(props.playerColor).alpha(0.5)};\r\n\t\tbackground-color: rgba(255,255,255,0.1);\r\n\t`};\r\n`);\r\n\r\nconst ContainerSwitch = styled.div`\r\n\t${props =>\r\n\t\tprops.portrait &&\r\n\t\t`\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-end;\r\n\t`};\r\n`;\r\n\r\nconst ContainerStatus = styled.div`\r\n\twidth: ${props => props.pixelSize * 8}px;\r\n\t${props =>\r\n\t\t!props.portrait && `height: ${props.pixelSize * 18 + (18 / 3) * 1}px;`}\r\n\t${props => props.portrait && `width: ${props.pixelSize * 10 + (10 / 3) * 1}px;`}\r\n\tmargin-left: ${props => (props.portrait ? 0 : props.pixelSize / 3)}px;\r\n\tmargin-top: ${props => (props.portrait ? props.pixelSize / 3 : 0)}px;\r\n\tdisplay: flex;\r\n\tflex-direction: ${props => (props.portrait ? \"row\" : \"column\")};\r\n\talign-items: center;\r\n\tjustify-content: ${props => (props.portrait ? \"space-between\" : \"flex-start\")};\r\n\tfont-size: ${props => props.pixelSize}px;\r\n`;\r\n\r\nconst getRenderizacaoBloco = bloco => {\r\n\tlet trimRowBloco = [];\r\n\tlet sumColumn = {};\r\n\tbloco.forEach((row, y) => {\r\n\t\tlet rowSum = 0;\r\n\t\trow.forEach(pixel => (rowSum = rowSum + pixel));\r\n\t\tif (rowSum > 0) trimRowBloco.push(row);\r\n\t\trow.forEach((pixel, x) => {\r\n\t\t\tsumColumn[x] = (sumColumn[x] ? sumColumn[x] : 0) + pixel;\r\n\t\t});\r\n\t});\r\n\tlet trimBloco = [];\r\n\ttrimRowBloco.forEach((row, y) => {\r\n\t\tlet newRow = [];\r\n\t\trow.forEach((pixel, x) => {\r\n\t\t\tif (sumColumn[x] > 0) newRow.push(pixel);\r\n\t\t});\r\n\t\ttrimBloco.push(newRow);\r\n\t});\r\n\treturn trimBloco;\r\n};\r\n\r\nconst Stage = ({ map, player, hint, status, paused, ...others }) => {\r\n\tconst [pixelSize, setPixelSize] = useState(30);\r\n\tconst [portrait, setPortrait] = useState(false);\r\n\tconst { width, height } = useWindowDimensions();\r\n\tconst [theme3d, setTheme3d] = useState(false);\r\n\tconst [nextRender, setNextRender] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tlet pixelSizeHeight = height / 20;\r\n\t\tlet pixelSizeWidth = width / 32;\r\n\t\tif (portrait) {\r\n\t\t\tpixelSizeHeight = height / 26;\r\n\t\t\tpixelSizeWidth = width / 12;\r\n\t\t}\r\n\t\tsetPixelSize(\r\n\t\t\tpixelSizeWidth < pixelSizeHeight ? pixelSizeWidth : pixelSizeHeight\r\n\t\t);\r\n\t\tsetPortrait(height > width);\r\n\t}, [width, height, portrait]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!player.next) return;\r\n\t\tsetNextRender(getRenderizacaoBloco(player.next.bloco));\r\n\t}, [player.next]);\r\n\r\n\treturn (\r\n\t\t<Game portrait={portrait}>\r\n\t\t\t{nextRender && (\r\n\t\t\t\t<ContainerNext portrait={portrait} pixelSize={pixelSize}>\r\n\t\t\t\t\t<Next portrait={portrait} theme3d={theme3d} pixelSize={pixelSize}>\r\n\t\t\t\t\t\t{nextRender.map((row, y) => (\r\n\t\t\t\t\t\t\t<Row pixelSize={pixelSize} key={`row-${y}`}>\r\n\t\t\t\t\t\t\t\t{row.map((pixel, x) => {\r\n\t\t\t\t\t\t\t\t\tlet topBloco = pixel && (!nextRender[y - 1] || !nextRender[y - 1][x]);\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\t\tpaused={paused}\r\n\t\t\t\t\t\t\t\t\t\t\ttheme3d={theme3d}\r\n\t\t\t\t\t\t\t\t\t\t\ttopBloco={topBloco}\r\n\t\t\t\t\t\t\t\t\t\t\tzIndex={y}\r\n\t\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`pixel-${x}`}\r\n\t\t\t\t\t\t\t\t\t\t\tfill={pixel}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={player.next.color}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Next>\r\n\t\t\t\t\t<ContainerSwitch portrait={portrait}>\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\twidth={pixelSize * 2}\r\n\t\t\t\t\t\t\theight={pixelSize / 1.2}\r\n\t\t\t\t\t\t\tonChange={setTheme3d}\r\n\t\t\t\t\t\t\tchecked={theme3d}\r\n\t\t\t\t\t\t\toffColor=\"#000\"\r\n\t\t\t\t\t\t\tonColor=\"#444\"\r\n\t\t\t\t\t\t\tuncheckedIcon={\r\n\t\t\t\t\t\t\t\t<Center>\r\n\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\ttheme3d={false}\r\n\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize / 3}\r\n\t\t\t\t\t\t\t\t\t\tstage=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tfill={1}\r\n\t\t\t\t\t\t\t\t\t\tcolor={\"#e54b4b\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Center>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcheckedIcon={\r\n\t\t\t\t\t\t\t\t<Center>\r\n\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\ttheme3d=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize / 3}\r\n\t\t\t\t\t\t\t\t\t\tstage=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tfill={1}\r\n\t\t\t\t\t\t\t\t\t\tcolor={\"#e54b4b\"}\r\n\t\t\t\t\t\t\t\t\t\ttopBloco=\"true\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Center>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ContainerSwitch>\r\n\t\t\t\t</ContainerNext>\r\n\t\t\t)}\r\n\t\t\t{map && (\r\n\t\t\t\t<StyledStage {...others} theme3d={theme3d} pixelSize={pixelSize}>\r\n\t\t\t\t\t{map.map((row, y) => (\r\n\t\t\t\t\t\t<Row stage=\"true\" pixelSize={pixelSize} key={`row-${y}`}>\r\n\t\t\t\t\t\t\t{row.map((pixel, x) => {\r\n\t\t\t\t\t\t\t\tlet playerFill =\r\n\t\t\t\t\t\t\t\t\tplayer.bloco.bloco[y - player.pos[0]] &&\r\n\t\t\t\t\t\t\t\t\tplayer.bloco.bloco[y - player.pos[0]][x - player.pos[1]];\r\n\t\t\t\t\t\t\t\tlet playerHint =\r\n\t\t\t\t\t\t\t\t\thint.bloco.bloco[y - hint.pos[0]] &&\r\n\t\t\t\t\t\t\t\t\thint.bloco.bloco[y - hint.pos[0]][x - hint.pos[1]];\r\n\t\t\t\t\t\t\t\tlet topBloco =\r\n\t\t\t\t\t\t\t\t\t(playerFill || pixel.fill) &&\r\n\t\t\t\t\t\t\t\t\t(!player.bloco.bloco[y - player.pos[0] - 1] ||\r\n\t\t\t\t\t\t\t\t\t\t!player.bloco.bloco[y - player.pos[0] - 1][x - player.pos[1]]) &&\r\n\t\t\t\t\t\t\t\t\t(!map[y - 1] || !map[y - 1][x].fill);\r\n\t\t\t\t\t\t\t\tlet zIndex = !playerFill && !pixel.fill && playerHint ? 99 : y;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\tpaused={paused}\r\n\t\t\t\t\t\t\t\t\t\ttheme3d={theme3d}\r\n\t\t\t\t\t\t\t\t\t\thint={!pixel.fill && !playerFill && playerHint}\r\n\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize}\r\n\t\t\t\t\t\t\t\t\t\tstage=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tkey={`pixel-${x}`}\r\n\t\t\t\t\t\t\t\t\t\tfill={pixel.fill || playerFill}\r\n\t\t\t\t\t\t\t\t\t\tcolor={playerFill ? player.bloco.color : pixel.color}\r\n\t\t\t\t\t\t\t\t\t\tplayerColor={player.bloco.color}\r\n\t\t\t\t\t\t\t\t\t\ttopBloco={topBloco}\r\n\t\t\t\t\t\t\t\t\t\tzIndex={zIndex}\r\n\t\t\t\t\t\t\t\t\t></Pixel>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</StyledStage>\r\n\t\t\t)}\r\n\t\t\t{status && (\r\n\t\t\t\t<ContainerStatus portrait={portrait} pixelSize={pixelSize}>\r\n\t\t\t\t\t<StatusRow\r\n\t\t\t\t\t\tbackgroundColor={theme3d ? \"#444\" : \"black\"}\r\n\t\t\t\t\t\tportrait={portrait}\r\n\t\t\t\t\t\tborderSize={pixelSize / 10}\r\n\t\t\t\t\t\tmargin={pixelSize / 3}\r\n\t\t\t\t\t\tpadding={pixelSize / 2}\r\n\t\t\t\t\t\ttitle=\"SCORE\"\r\n\t\t\t\t\t\tvalue={status.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<StatusRow\r\n\t\t\t\t\t\tbackgroundColor={theme3d ? \"#444\" : \"black\"}\r\n\t\t\t\t\t\tportrait={portrait}\r\n\t\t\t\t\t\tborderSize={pixelSize / 10}\r\n\t\t\t\t\t\tmargin={pixelSize / 3}\r\n\t\t\t\t\t\tpadding={pixelSize / 2}\r\n\t\t\t\t\t\ttitle=\"LEVEL\"\r\n\t\t\t\t\t\tvalue={status.level}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<StatusRow\r\n\t\t\t\t\t\tbackgroundColor={theme3d ? \"#444\" : \"black\"}\r\n\t\t\t\t\t\tportrait={portrait}\r\n\t\t\t\t\t\tborderSize={pixelSize / 10}\r\n\t\t\t\t\t\tmargin={pixelSize / 3}\r\n\t\t\t\t\t\tpadding={pixelSize / 2}\r\n\t\t\t\t\t\ttitle=\"LINES\"\r\n\t\t\t\t\t\tvalue={status.lines}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ContainerStatus>\r\n\t\t\t)}\r\n\t\t</Game>\r\n\t);\r\n};\r\n\r\nexport default Stage;\r\n","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tborder: 1px solid red;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n`;\r\n\r\nexport default Center;\r\n","export const PrintPlayerInMap = (player, map) => {\r\n  var newMap = map.map(arr => arr.slice());\r\n  for (let y = 0; y < player.bloco.bloco.length; y++)\r\n    for (let x = 0; x < player.bloco.bloco.length; x++)\r\n      if (player.bloco.bloco[y][x] === 1) {\r\n        const pixelY = player.pos[0] + y;\r\n        const pixelX = player.pos[1] + x;\r\n        newMap[pixelY][pixelX] = { fill: 1, color: player.bloco.color };\r\n      }\r\n  return newMap;\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { useDrag } from \"react-use-gesture\";\r\nimport BarLoader from \"react-spinners/BarLoader\";\r\n\r\nimport Stage from \"../Stage\";\r\nimport { useInterval } from \"../../hooks/useInterval\";\r\nimport Center from \"../Center\";\r\n\r\nimport { PrintPlayerInMap } from \"../../utils/Utils\";\r\n\r\n//TODO: Alterar OnClick (rotatePlayer) para OnFastClick (criar hook)\r\n//TODO: Organização do componente \"Game\" (Separar codigo em hooks, outros components e funcoes)\r\n//TODO: Dar um tempo quando o bloco estiver no chão, mas o usuário mexendo\r\n\r\nconst STAGE_HEIGHT = 18;\r\nconst STAGE_WIDTH = 10;\r\n\r\nconst initialMap = [...new Array(STAGE_HEIGHT)].map(() =>\r\n\t[...new Array(STAGE_WIDTH)].map(() => ({ fill: 0, color: [] }))\r\n);\r\n\r\nconst colors = [\r\n\t\"#e54b4b\",\r\n\t\"#9a031e\",\r\n\t\"#fcdc4d\",\r\n\t\"#005397\",\r\n\t\"#0bbcd6\",\r\n\t\"#20ad65\",\r\n\t\"#f8ebee\"\r\n];\r\n\r\nconst I = {\r\n\tbloco: [\r\n\t\t[0, 0, 0, 0],\r\n\t\t[1, 1, 1, 1],\r\n\t\t[0, 0, 0, 0],\r\n\t\t[0, 0, 0, 0]\r\n\t]\r\n};\r\n\r\nconst O = {\r\n\tbloco: [\r\n\t\t[1, 1],\r\n\t\t[1, 1]\r\n\t]\r\n};\r\n\r\nconst T = {\r\n\tbloco: [\r\n\t\t[0, 0, 0],\r\n\t\t[1, 1, 1],\r\n\t\t[0, 1, 0]\r\n\t]\r\n};\r\n\r\nconst J = {\r\n\tbloco: [\r\n\t\t[0, 1, 0],\r\n\t\t[0, 1, 0],\r\n\t\t[1, 1, 0]\r\n\t]\r\n};\r\n\r\nconst L = {\r\n\tbloco: [\r\n\t\t[0, 1, 0],\r\n\t\t[0, 1, 0],\r\n\t\t[0, 1, 1]\r\n\t]\r\n};\r\n\r\nconst S = {\r\n\tbloco: [\r\n\t\t[0, 1, 1],\r\n\t\t[1, 1, 0],\r\n\t\t[0, 0, 0]\r\n\t]\r\n};\r\n\r\nconst Z = {\r\n\tbloco: [\r\n\t\t[1, 1, 0],\r\n\t\t[0, 1, 1],\r\n\t\t[0, 0, 0]\r\n\t]\r\n};\r\n\r\nconst getRandomBloco = () => {\r\n\tconst blocos = [I, O, T, J, L, S, Z];\r\n\tconst bloco = blocos[Math.floor(Math.random() * blocos.length)];\r\n\tbloco.color = colors[Math.floor(Math.random() * colors.length)];\r\n\treturn bloco;\r\n};\r\nconst getRandomPlayer = player => {\r\n\tlet bloco, next;\r\n\tif (player)\r\n\t\tif (player.next) {\r\n\t\t\tbloco = JSON.parse(JSON.stringify(player.next));\r\n\t\t\tnext = getRandomBloco();\r\n\t\t}\r\n\tif (!bloco) bloco = getRandomBloco();\r\n\tif (!next) next = getRandomBloco();\r\n\tconst pos = [0, Math.floor(STAGE_WIDTH / 2 - 2 / 2)];\r\n\treturn { pos, bloco, next };\r\n};\r\n\r\nconst Game = () => {\r\n\tconst [map, setMap] = useState(initialMap);\r\n\tconst [player, setPlayer] = useState();\r\n\tconst [down, setDown] = useState(false);\r\n\tconst [pause, setPause] = useState(false);\r\n\tconst [tick, setTick] = useState(Date.now());\r\n\tconst [hintPlayer, setHintPlayer] = useState();\r\n\tconst [spaceReleased, setSpaceReleased] = useState(true);\r\n\tconst [lines, setlines] = useState(0);\r\n\tconst [score, setScore] = useState(0);\r\n\tconst [level, setLevel] = useState(1);\r\n\tconst [dragX, setDragX] = useState(0);\r\n\tconst [dragY, setDragY] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst levelBaseScore = 1000;\r\n\t\tconst nextLevel = level + 1;\r\n\t\tconst nextLevelScore =\r\n\t\t\t(levelBaseScore * nextLevel * nextLevel * nextLevel) / 5;\r\n\t\tconsole.log(\"Current level: \", level);\r\n\t\tconsole.log(\"Score to next level:\", nextLevelScore);\r\n\t\tconsole.log(\"Remaining: \", nextLevelScore - score);\r\n\t\tif (score >= nextLevelScore) setLevel(level + 1);\r\n\t}, [level, score]);\r\n\r\n\tconst loseGame = () => {\r\n\t\tsetMap(initialMap); //TODO: lose game\r\n\t\tsetlines(0);\r\n\t\tsetScore(0);\r\n\t\tsetLevel(1);\r\n\t};\r\n\r\n\tconst drop = () => {\r\n\t\tif (!player) {\r\n\t\t\tsetPlayer(getRandomPlayer());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetPlayer(player => {\r\n\t\t\tconst newPos = getNewPlayerPos(\"down\");\r\n\t\t\tif (player.pos === newPos) {\r\n\t\t\t\tsetMap(map => {\r\n\t\t\t\t\tconst mapWithPlayer = PrintPlayerInMap(player, map);\r\n\t\t\t\t\tconst mapCleared = checkMap(mapWithPlayer);\r\n\t\t\t\t\treturn mapCleared;\r\n\t\t\t\t});\r\n\t\t\t\tconst newPlayer = getRandomPlayer(player);\r\n\t\t\t\tif (!validatePosition(newPlayer.pos, newPlayer.bloco)) loseGame();\r\n\t\t\t\treturn newPlayer;\r\n\t\t\t}\r\n\t\t\treturn { ...player, pos: newPos };\r\n\t\t});\r\n\t};\r\n\r\n\tconst rotatePlayer = () => {\r\n\t\tconst clonedPlayer = JSON.parse(JSON.stringify(player));\r\n\t\tlet mtrx = clonedPlayer.bloco.bloco.map((_, index) =>\r\n\t\t\tclonedPlayer.bloco.bloco.map(column => column[index])\r\n\t\t);\r\n\t\tmtrx = mtrx.map(row => row.reverse());\r\n\t\tif (validatePosition(player.pos, { bloco: mtrx }))\r\n\t\t\tsetPlayer({ ...player, bloco: { ...player.bloco, bloco: mtrx } });\r\n\t};\r\n\r\n\tconst keyUp = ({ keyCode }) => {\r\n\t\tconst THRESHOLD = 80;\r\n\t\t// Activate the interval again when user releases down arrow.\r\n\t\tif (keyCode === 40) {\r\n\t\t\tsetDown(false);\r\n\t\t\tif (Date.now() - tick <= THRESHOLD) drop();\r\n\t\t}\r\n\t\tif (keyCode === 32) setSpaceReleased(true);\r\n\t};\r\n\r\n\tconst forwardDown = () => {\r\n\t\tsetPlayer(player => {\r\n\t\t\tconst playerCopy = JSON.parse(JSON.stringify(player));\r\n\t\t\tplayerCopy.pos = [...hintPlayer.pos];\r\n\t\t\tsetMap(map => {\r\n\t\t\t\tconst mapWithPlayer = PrintPlayerInMap(playerCopy, map);\r\n\t\t\t\tconst mapCleared = checkMap(mapWithPlayer);\r\n\t\t\t\treturn mapCleared;\r\n\t\t\t});\r\n\t\t\tconst newPlayer = getRandomPlayer(player);\r\n\t\t\tif (!validatePosition(newPlayer.pos, newPlayer.bloco)) loseGame();\r\n\t\t\treturn newPlayer;\r\n\t\t});\r\n\t};\r\n\r\n\tconst keyDown = ({ keyCode }) => {\r\n\t\tswitch (keyCode) {\r\n\t\t\tcase 37:\r\n\t\t\t\tsetPlayer(player => ({ ...player, pos: getNewPlayerPos(\"left\") }));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 38:\r\n\t\t\t\trotatePlayer();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 39:\r\n\t\t\t\tsetPlayer(player => ({ ...player, pos: getNewPlayerPos(\"right\") }));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 40:\r\n\t\t\t\tsetTick(Date.now());\r\n\t\t\t\tsetDown(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 32:\r\n\t\t\t\tif (spaceReleased) {\r\n\t\t\t\t\tsetSpaceReleased(false);\r\n\t\t\t\t\tforwardDown();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkMap = React.useCallback(\r\n\t\tmap => {\r\n\t\t\tlet rowsClear = [];\r\n\t\t\tmap.forEach((row, y) => {\r\n\t\t\t\tlet clear = true;\r\n\t\t\t\trow.forEach((pixel, x) => {\r\n\t\t\t\t\tif (pixel.fill === 0) clear = false;\r\n\t\t\t\t});\r\n\t\t\t\tif (clear) rowsClear.push(y);\r\n\t\t\t});\r\n\t\t\tif (rowsClear.length > 0) {\r\n\t\t\t\tlet newMap = map.slice();\r\n\t\t\t\trowsClear.forEach(y => {\r\n\t\t\t\t\tfor (let mapY = newMap.length - 1; mapY >= 0; mapY--)\r\n\t\t\t\t\t\tif (mapY <= y)\r\n\t\t\t\t\t\t\tif (mapY > 0) newMap[mapY] = newMap[mapY - 1];\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tnewMap[mapY] = [...new Array(STAGE_WIDTH)].map(() => ({\r\n\t\t\t\t\t\t\t\t\tfill: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: []\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t});\r\n\t\t\t\tsetlines(quant => quant + rowsClear.length);\r\n\t\t\t\tconst bonusLevel = 100 * (level * level);\r\n\t\t\t\tconst bonusRows = 40 * (rowsClear.length * rowsClear.length - 1);\r\n\t\t\t\tsetScore(score => score + 300 * rowsClear.length + bonusRows + bonusLevel);\r\n\t\t\t\treturn newMap;\r\n\t\t\t}\r\n\t\t\treturn map;\r\n\t\t},\r\n\t\t[level]\r\n\t);\r\n\r\n\tconst validatePosition = React.useCallback(\r\n\t\t(pos, bloco) => {\r\n\t\t\tfor (let y = 0; y < bloco.bloco.length; y++)\r\n\t\t\t\tfor (let x = 0; x < bloco.bloco[y].length; x++)\r\n\t\t\t\t\tif (bloco.bloco[y][x] === 1) {\r\n\t\t\t\t\t\tlet mapY = pos[0] + y;\r\n\t\t\t\t\t\tlet mapX = pos[1] + x;\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tmapY > STAGE_HEIGHT ||\r\n\t\t\t\t\t\t\tmapX < 0 ||\r\n\t\t\t\t\t\t\tmapX > STAGE_WIDTH ||\r\n\t\t\t\t\t\t\t!map[mapY] ||\r\n\t\t\t\t\t\t\t!map[mapY][mapX] ||\r\n\t\t\t\t\t\t\tmap[mapY][mapX].fill === 1\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t[map]\r\n\t);\r\n\r\n\tconst calculateHintPlayer = React.useCallback(\r\n\t\tplayer => {\r\n\t\t\tconst hintBloco = JSON.parse(JSON.stringify(player.bloco));\r\n\t\t\tlet hintPosition = [...player.pos];\r\n\t\t\twhile (validatePosition([hintPosition[0] + 1, hintPosition[1]], hintBloco))\r\n\t\t\t\thintPosition = [hintPosition[0] + 1, hintPosition[1]];\r\n\t\t\treturn { pos: hintPosition, bloco: hintBloco };\r\n\t\t},\r\n\t\t[validatePosition]\r\n\t);\r\n\r\n\tconst getNewPlayerPos = React.useCallback(\r\n\t\tmovement => {\r\n\t\t\tlet newPos;\r\n\t\t\tif (!player) return;\r\n\t\t\tif (movement === \"down\") newPos = [player.pos[0] + 1, player.pos[1]];\r\n\t\t\tif (movement === \"left\") newPos = [player.pos[0], player.pos[1] - 1];\r\n\t\t\tif (movement === \"right\") newPos = [player.pos[0], player.pos[1] + 1];\r\n\t\t\tif (!validatePosition(newPos, player.bloco)) return player.pos;\r\n\t\t\treturn newPos;\r\n\t\t},\r\n\t\t[player, validatePosition]\r\n\t);\r\n\r\n\tuseInterval(\r\n\t\t() => {\r\n\t\t\tdrop();\r\n\t\t},\r\n\t\tpause ? null : down ? 50 : 450 - (level - 1) * 20\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!player) return;\r\n\t\tsetHintPlayer(calculateHintPlayer(player));\r\n\t}, [player, calculateHintPlayer]);\r\n\r\n\tconst bind = useDrag(\r\n\t\t({ down, movement: [mx, my], velocity }) => {\r\n\t\t\tconst THRESHOLD = 20;\r\n\t\t\tconst FORCE_THRESHOLD = 1;\r\n\t\t\tif (down) {\r\n\t\t\t\tif (Math.abs(mx - dragX) > THRESHOLD) {\r\n\t\t\t\t\tif (mx - dragX > 0)\r\n\t\t\t\t\t\tsetPlayer(player => ({ ...player, pos: getNewPlayerPos(\"right\") }));\r\n\t\t\t\t\telse setPlayer(player => ({ ...player, pos: getNewPlayerPos(\"left\") }));\r\n\t\t\t\t\tsetDragX(mx);\r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(my - dragY) > THRESHOLD) {\r\n\t\t\t\t\tif (velocity > FORCE_THRESHOLD) {\r\n\t\t\t\t\t\tif (spaceReleased) {\r\n\t\t\t\t\t\t\tsetSpaceReleased(false);\r\n\t\t\t\t\t\t\tforwardDown();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (my - dragY > 0) drop();\r\n\t\t\t\t\tsetDragY(my);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetDragX(0);\r\n\t\t\t\tsetDragY(0);\r\n\t\t\t\tsetSpaceReleased(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ filterTaps: true, lockDirection: true }\r\n\t);\r\n\r\n\tif (!player || !map || !hintPlayer)\r\n\t\treturn (\r\n\t\t\t<Center>\r\n\t\t\t\t<BarLoader color={\"#C41212\"} />\r\n\t\t\t</Center>\r\n\t\t);\r\n\treturn (\r\n\t\t<Stage\r\n\t\t\tmap={map}\r\n\t\t\tplayer={player}\r\n\t\t\thint={hintPlayer}\r\n\t\t\tpaused={pause}\r\n\t\t\tstatus={{ lines, score, level }}\r\n\t\t\tonBlur={() => setPause(true)}\r\n\t\t\tonFocus={() => setPause(false)}\r\n\t\t\ttabIndex=\"0\"\r\n\t\t\tonKeyUp={keyUp}\r\n\t\t\tonKeyDown={keyDown}\r\n\t\t\tonClick={() => rotatePlayer()}\r\n\t\t\t{...bind()}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default Game;\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport StartPage from \"../StartPage\";\r\nimport Game from \"../Game\";\r\n\r\nconst Tetris = () => {\r\n\tconst [runing, setRuning] = useState(true);\r\n\treturn runing ? (\r\n\t\t<Game stopClick={() => setRuning(false)} />\r\n\t) : (\r\n\t\t<StartPage startClick={() => setRuning(true)} />\r\n\t);\r\n};\r\n\r\nexport default Tetris;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\nimport Tetris from \"./components/Tetris\";\r\n\r\nexport default function App() {\r\n  return <Tetris />;\r\n}\r\n"],"sourceRoot":""}